//CLASS TO MERGE ALL REQUIRED PARTS FOR CONLL

import java.io.*;
import java.util.*;

public class mergeForCoNLL {
	
	private static BufferedReader reader; //mate morphtagged file
	private static BufferedReader reader2;//parse
	private static BufferedReader reader3;//ne
	private static BufferedReader reader4; //mate lemma file
	private static BufferedWriter writer;

	public static void main(String[] args){
		
		try {		
			
			reader = new BufferedReader(new FileReader( new File(args[0]) ));	
			reader2 = new BufferedReader(new FileReader( new File(args[1]) ));	
			reader3 = new BufferedReader(new FileReader( new File(args[2]) ));	
			reader4 = new BufferedReader(new FileReader( new File(args[3]) ));	
			writer = new BufferedWriter(new FileWriter(args[4]));

			System.out.println("files found");
			
			
			String text="";
			String text2="";
			String text3="";
			String text4="";

			String docname=args[0].replace(".morph","").replace("./../output/","");
		
			writer.write("#begin document ("+docname+"); part 000\n");
			
			while (reader.ready()) {
				text=reader.readLine();
				text2=reader2.readLine();
				text3=reader3.readLine();
				text4=reader4.readLine();

				
				if (text.contains("\t")){
				
				String parse= text2.split("\t")[2];
				String pos= text2.split("\t")[1];
				
				String no=text.split("\t")[0];
				String wordForm=text.split("\t")[1];
				String lemma=text4.split("\t")[3];
				String gend=text.split("\t")[7];
				String num=text.split("\t")[7];
				String ne=text3.split("\t")[2];

				//NUMBER
				
					if (num.contains("sg")){
						num="sg";	
					}
					else if (num.contains("pl")){
						num="pl";
					}
					else {num="-";}
				
				
			
			//GENDER
				if (gend.contains("masc")){gend="masc";
				}
				else if (gend.contains("fem")){gend="fem";
				}
				else if (gend.contains("neut")){gend="neut";
				}	
				else {gend="-";}
		
			//LEMMA
			if (lemma.contains("unknown")){lemma=wordForm;}
			if (lemma.equals("--")){lemma=wordForm;}	

			//NER

			if (ne.startsWith("I-")){ne=ne.replace("I-","");}
			if (ne.equals("O")){ne="-";}
				
			writer.write(docname+"\t"+"000\t"+no+"\t"+wordForm+"\t"+pos+"\t"+parse+"\t"+lemma+"\t"+num+"\t"+gend+"\t"+ne+"\t"+"-\n");
				}
				
			else {writer.write(text+"\n");
	
			}
			
				
			}
			
			writer.write("#end document" +docname);
			System.out.println("finished");
			
			writer.close();
			
	
			
			}
			catch(Exception e){}}}


